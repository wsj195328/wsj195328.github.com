<!DOCTYPE html>
<html class="theme theme-white">
<head>
<meta charset="utf-8">
<title>课程3.UIView详解</title>
<link href="https://www.zybuluo.com/static/assets/template-theme-white.css" rel="stylesheet" media="screen">
</head>
<body class="theme theme-white">
<div id="wmd-preview" class="wmd-preview wmd-preview-full-reader"><div class="md-section-divider"></div><img src="http://static.zybuluo.com/zhuoming/9y9ocj9x0iw2k87m7br254g1/logo.png" width="300" height="100"><span style="float:right;" data-anchor-id="qtq9"><b>求知若渴 求真教育</b></span><div class="md-section-divider"></div><h1 data-anchor-id="5hqf" id="课程3uiview详解">课程3.UIView详解</h1><p data-anchor-id="v4z9"><code>iOS</code> <code>UI</code></p><hr><p data-anchor-id="v7jt"><div class="toc"><div class="toc">
<ul>
<li><a href="#课程3uiview详解">课程3.UIView详解</a><ul>
<li><a href="#一学习目标">一、学习目标</a></li>
<li><a href="#二课程内容">二、课程内容</a><ul>
<li><a href="#1uiview的层次关系">1.UIView的层次关系</a></li>
<li><a href="#2uiview补充应用">2.UIView补充应用</a></li>
<li><a href="#3uiimageview的使用">3.UIImageView的使用</a></li>
</ul>
</li>
<li><a href="#三课程作业">三、课程作业</a></li>
</ul>
</li>
</ul>
</div>
</div>
</p><hr><div class="md-section-divider"></div><h2 data-anchor-id="sq7i" id="一学习目标"><strong>一、学习目标</strong></h2><ul data-anchor-id="xkyy">
<li>深入学习界面基类UIView</li>
<li>掌握UIView层次关系</li>
</ul><hr><div class="md-section-divider"></div><h2 data-anchor-id="7plg" id="二课程内容"><strong>二、课程内容</strong></h2><div class="md-section-divider"></div><h3 data-anchor-id="zhd7" id="1uiview的层次关系"><strong>1.UIView的层次关系</strong></h3><p data-anchor-id="46ie">在第一章我们学习UIView的相关知识，都知道通过改变Frame（center，bounds）等属性可以改变View的位置和大小。这个一个（x,y）二维的平面，但其实各个View是有层次关系的。</p><blockquote data-anchor-id="sy8v" class="white-blockquote">
  <p>「 Talk is cheap. Show me the code 」</p>
</blockquote><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="uv03"><ol class="linenums"><li class="L0"><code></code></li><li class="L1"><code><span class="pln"> </span><span class="typ">UIView</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> view1 </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[[</span><span class="typ">UIView</span><span class="pln"> alloc</span><span class="pun">]</span><span class="pln">initWithFrame</span><span class="pun">:</span><span class="typ">CGRectMake</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">300</span><span class="pun">,</span><span class="pln"> </span><span class="lit">300</span><span class="pun">)];</span></code></li><li class="L2"><code><span class="pln">    view1</span><span class="pun">.</span><span class="pln">center </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">window</span><span class="pun">.</span><span class="pln">center</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pln">    view1</span><span class="pun">.</span><span class="pln">backgroundColor </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="typ">UIColor</span><span class="pln"> redColor</span><span class="pun">];</span></code></li><li class="L4"><code></code></li><li class="L5"><code><span class="pln">    </span><span class="typ">UIView</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> view2 </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[[</span><span class="typ">UIView</span><span class="pln"> alloc</span><span class="pun">]</span><span class="pln">initWithFrame</span><span class="pun">:</span><span class="typ">CGRectMake</span><span class="pun">(</span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pun">,</span><span class="pln"> </span><span class="lit">200</span><span class="pun">,</span><span class="pln"> </span><span class="lit">260</span><span class="pun">)];</span></code></li><li class="L6"><code><span class="pln">    view2</span><span class="pun">.</span><span class="pln">backgroundColor </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="typ">UIColor</span><span class="pln"> lightGrayColor</span><span class="pun">];</span></code></li><li class="L7"><code></code></li><li class="L8"><code><span class="pln">    </span><span class="typ">UIView</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> view3 </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[[</span><span class="typ">UIView</span><span class="pln"> alloc</span><span class="pun">]</span><span class="pln">initWithFrame</span><span class="pun">:</span><span class="typ">CGRectMake</span><span class="pun">(</span><span class="lit">120</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">170</span><span class="pun">,</span><span class="pln"> </span><span class="lit">280</span><span class="pun">)];</span></code></li><li class="L9"><code><span class="pln">    view3</span><span class="pun">.</span><span class="pln">backgroundColor </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="typ">UIColor</span><span class="pln"> cyanColor</span><span class="pun">];</span></code></li><li class="L0"><code></code></li><li class="L1"><code><span class="pln">    </span><span class="com">// 将View1 添加到window上</span></code></li><li class="L2"><code><span class="pln">    </span><span class="pun">[</span><span class="kwd">self</span><span class="pun">.</span><span class="pln">window addSubview</span><span class="pun">:</span><span class="pln">view1</span><span class="pun">];</span></code></li><li class="L3"><code><span class="pln">    </span><span class="com">// 将View2 添加到View1 上</span></code></li><li class="L4"><code><span class="pln">    </span><span class="pun">[</span><span class="pln">view1 addSubview</span><span class="pun">:</span><span class="pln">view2</span><span class="pun">];</span></code></li><li class="L5"><code><span class="pln">    </span><span class="pun">[</span><span class="pln">view1 addSubview</span><span class="pun">:</span><span class="pln">view3</span><span class="pun">];</span></code></li></ol></pre><p data-anchor-id="vczy">平面效果图  <br>
<img src="http://static.zybuluo.com/zhuoming/o0kpo1laeo05ofsx9yg60lon/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-28%20%E4%B8%8B%E5%8D%883.13.21.png" alt="屏幕快照 2016-01-28 下午3.13.21.png-14.7kB" title=""> <br>
打开层级视图我们可以很明显的看到青色的view3比view2更靠前</p><blockquote data-anchor-id="1eki" class="white-blockquote">
  <p>点击这个按钮打开层级视图 <img src="http://static.zybuluo.com/zhuoming/bo8jbpqhs40y9111kuhxtorv/E29F12C5-E623-443E-90A6-7176C42FF9EA.png" alt="E29F12C5-E623-443E-90A6-7176C42FF9EA.png-11.3kB" title=""></p>
</blockquote><p data-anchor-id="tmga"><img src="http://static.zybuluo.com/zhuoming/kd7tfck06mxm3ah8omovoo60/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-28%20%E4%B8%8B%E5%8D%883.13.54.png" alt="屏幕快照 2016-01-28 下午3.13.54.png-12.6kB" title=""></p><div class="md-section-divider"></div><h3 data-anchor-id="uu0q" id="2uiview补充应用"><strong>2.UIView补充应用</strong></h3><blockquote data-anchor-id="iwb0" class="white-blockquote">
  <p>根据上面的例子</p>
</blockquote><ul data-anchor-id="nd77">
<li>如何获取UIView的父视图？</li>
</ul><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="r8yu"><ol class="linenums"><li class="L0"><code><span class="com">// 获取view2的父视图 view1</span></code></li><li class="L1"><code><span class="typ">UIView</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> superView1 </span><span class="pun">=</span><span class="pln"> view2</span><span class="pun">.</span><span class="pln">superview</span><span class="pun">;</span></code></li></ol></pre><ul data-anchor-id="s7zm">
<li>如何获取UIView的子视图？</li>
</ul><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="qu7y"><ol class="linenums"><li class="L0"><code><span class="com">// 获取view1的子视图</span></code></li><li class="L1"><code><span class="typ">NSArray</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> subViewsArr </span><span class="pun">=</span><span class="pln"> view1</span><span class="pun">.</span><span class="pln">subviews</span><span class="pun">;</span></code></li><li class="L2"><code><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="typ">UIView</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> subView </span><span class="kwd">in</span><span class="pln"> subViewsArr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code><span class="pln">    </span><span class="com">// 遍历取出所示的子视图</span></code></li><li class="L4"><code><span class="pun">}</span></code></li><li class="L5"><code><span class="com">// 根据tag 值获取子视图</span></code></li><li class="L6"><code><span class="typ">UIView</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> subView </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">view1 viewWithTag</span><span class="pun">:</span><span class="lit">10</span><span class="pun">];</span></code></li></ol></pre><ul data-anchor-id="q1ep">
<li>如何在特定的位置插入一个视图？</li>
</ul><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="05kq"><ol class="linenums"><li class="L0"><code><span class="pln"> </span><span class="com">// 创建一个视图并插入到最低下（后面）</span></code></li><li class="L1"><code><span class="typ">UIView</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> view4 </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[[</span><span class="typ">UIView</span><span class="pln"> alloc</span><span class="pun">]</span><span class="pln">initWithFrame</span><span class="pun">:</span><span class="typ">CGRectMake</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">100</span><span class="pun">,</span><span class="pln"> </span><span class="lit">100</span><span class="pun">)];</span></code></li><li class="L2"><code><span class="pun">[</span><span class="pln">view1 insertSubview</span><span class="pun">:</span><span class="pln">view4 atIndex</span><span class="pun">:</span><span class="lit">0</span><span class="pun">];</span></code></li></ol></pre><ul data-anchor-id="yfhp">
<li>如何移除一个视图？</li>
</ul><blockquote data-anchor-id="b6ly" class="white-blockquote">
  <p>思考removeFromSuperview和release有何区别？</p>
</blockquote><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="hv9y"><ol class="linenums"><li class="L0"><code><span class="com">// 从父视图中移除</span></code></li><li class="L1"><code><span class="pun">[</span><span class="pln">view4 removeFromSuperview</span><span class="pun">];</span></code></li></ol></pre><ul data-anchor-id="enfu">
<li>如何剪切一个视图超出父视图之外的部分？</li>
</ul><blockquote data-anchor-id="sfqq" class="white-blockquote">
  <p>大家是否还记得第二章最后一个道题,button超出了父视图，但依然显示了,现在我们要把它裁剪掉</p>
</blockquote><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="gu6u"><ol class="linenums"><li class="L0"><code><span class="com">// view1所有的子视图超出父视图都不显示</span></code></li><li class="L1"><code><span class="pln">view1</span><span class="pun">.</span><span class="pln">clipsToBounds </span><span class="pun">=</span><span class="pln"> YES</span><span class="pun">;</span></code></li></ol></pre><ul data-anchor-id="65br">
<li>如何隐藏，显示一个UIView？</li>
</ul><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="xu5r"><ol class="linenums"><li class="L0"><code><span class="com">// view2将隐藏</span></code></li><li class="L1"><code><span class="pln">view2</span><span class="pun">.</span><span class="pln">hidden </span><span class="pun">=</span><span class="pln"> YES</span><span class="pun">;</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="n0kb" id="3uiimageview的使用"><strong>3.UIImageView的使用</strong></h3><p data-anchor-id="6qi0">UIImageView继承自UIView，通常用来显示图片，图片类是UIImage。 <br>
就算没有UIImage，UIImageView一样能利用来自父类的属性显示出来，而UIImage只是类似data的数据。</p><p data-anchor-id="e3jd"><strong>创建UIImageView</strong> <br>
让我们看一下 如何创建一个UIImageView并把我们目录中的图片显示出来</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="x3bu"><ol class="linenums"><li class="L0"><code><span class="com">/**</span></code></li><li class="L1"><code><span class="com"> 创建一个UIImageView </span></code></li><li class="L2"><code><span class="com"> */</span></code></li><li class="L3"><code><span class="typ">UIImageView</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> imageV </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[[</span><span class="typ">UIImageView</span><span class="pln"> alloc</span><span class="pun">]</span><span class="pln">initWithFrame</span><span class="pun">:</span><span class="typ">CGRectMake</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">300</span><span class="pun">,</span><span class="pln"> </span><span class="lit">100</span><span class="pun">)];</span></code></li><li class="L4"><code><span class="pln">imageV</span><span class="pun">.</span><span class="pln">center </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">window</span><span class="pun">.</span><span class="pln">center</span><span class="pun">;</span></code></li><li class="L5"><code><span class="pln">imageV</span><span class="pun">.</span><span class="pln">backgroundColor </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="typ">UIColor</span><span class="pln"> whiteColor</span><span class="pun">];</span></code></li><li class="L6"><code><span class="com">// UIImage 并不是一个可视化的视图 他直接继承于NSObject</span></code></li><li class="L7"><code><span class="pln">imageV</span><span class="pun">.</span><span class="pln">image </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="typ">UIImage</span><span class="pln"> imageNamed</span><span class="pun">:@</span><span class="str">"新研科技.png"</span><span class="pun">];</span></code></li><li class="L8"><code><span class="com">// 内容显示模式</span></code></li><li class="L9"><code><span class="pln">imageV</span><span class="pun">.</span><span class="pln">contentMode </span><span class="pun">=</span><span class="pln"> </span><span class="typ">UIViewContentModeScaleAspectFit</span><span class="pun">;</span></code></li><li class="L0"><code><span class="pun">[</span><span class="kwd">self</span><span class="pun">.</span><span class="pln">window addSubview</span><span class="pun">:</span><span class="pln">imageV</span><span class="pun">];</span></code></li></ol></pre><p data-anchor-id="pe8u">创建UIImageView有两种方法：</p><ul data-anchor-id="ycob">
<li>一种是想上面那样通过initWithFrame：来加载，然后手工修改UIImageView的属性。</li>
<li>另一种是通过之前提到的用UIImage来加载：</li>
</ul><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="uitv"><ol class="linenums"><li class="L0"><code><span class="typ">UIImage</span><span class="pln"> </span><span class="pun">*</span><span class="pln">image </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="typ">UIImageimageNamed</span><span class="pun">:@</span><span class="str">"新研科技.png"</span><span class="pun">];</span></code></li><li class="L1"><code><span class="typ">UIImageView</span><span class="pln"> </span><span class="pun">*</span><span class="pln">imageView </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[[</span><span class="typ">UIImageViewalloc</span><span class="pun">]</span><span class="pln"> initWithImage</span><span class="pun">:</span><span class="pln">image</span><span class="pun">];</span></code></li></ol></pre><p data-anchor-id="56ea"><strong>创建UIImage</strong> <br>
四种常用的加载UIImage的方法：</p><ul data-anchor-id="pqle">
<li>imageNamed:使用应用程序束中的一个文件来创建，iOS4以后的版本中可以省略png图片扩展名,其他格式如JPG等图片不能省略扩展名；</li>
<li>imageWithCGImage:使用Quartz 2D对象创建UIImage，与initWithCGImage等效；</li>
<li>imageWithContentsOfFile：根据指定的路径创建UIImage，与initWithContentOfFile等效；</li>
<li>imageWithData：使用NSData创建，与initWithData等效；</li>
</ul><blockquote data-anchor-id="ojk0" class="white-blockquote">
  <p>tips <br>
  当我们去开发一款 App 时，我们需要不同分辨率的图片以保证在不同分辨率的屏幕下均可得到精致的展示。随着 iPhone 设备迭出新，不同尺寸的分辨率需要适配，直到 iPhone 6 及 iPhone 6 Plus 发布前单启动时的 Default 图片就已经有 @1x, @2x, 568h@2x 三种尺寸需要适配了。iPhone 6 Plus 发布后，又多了一种尺寸，即 @3x 图片。 <br>
  为了保证 App 的精致，不断为不同尺寸的屏幕提供相应的图片 <br>
  加载期间，UIImage会自动去匹配需要加载的图像，如果没有HD版本的图像，UIImage会加载标准的图像文件并将其放大到合适高分辨率的显示屏。</p>
</blockquote><div class="md-section-divider"></div><h2 data-anchor-id="3icz" id="三课程作业">三、课程作业</h2><blockquote data-anchor-id="iplq" class="white-blockquote">
  <p>1、创建几个view,设置成不同背景色并添加到同一个view上，这几个view之间要有重叠的部分。然后改变添加的先后顺序，观察有什么不同。再打开层级视图观察。 <br>
  2、用练习用不同的方法创建UIImageView、和UIIamge; <br>
  3、思考当一个view调用removeFromSuperview时候调用release区别</p>
</blockquote></div>
</body>
</html>