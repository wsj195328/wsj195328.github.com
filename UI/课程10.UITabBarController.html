<!DOCTYPE html>
<html class="theme theme-white">
<head>
<meta charset="utf-8">
<title>课程10.UITabBarController</title>
<link href="https://www.zybuluo.com/static/assets/template-theme-white.css" rel="stylesheet" media="screen">
</head>
<body class="theme theme-white">
<div id="wmd-preview" class="wmd-preview wmd-preview-full-reader"><div class="md-section-divider"></div><img src="http://static.zybuluo.com/zhuoming/9y9ocj9x0iw2k87m7br254g1/logo.png" width="300" height="100"><span style="float:right;" data-anchor-id="0emc"><b>求知若渴 求真教育</b></span><div class="md-section-divider"></div><h1 data-anchor-id="yamj" id="课程10uitabbarcontroller">课程10.UITabBarController</h1><div class="md-section-divider"></div><h2 data-anchor-id="wa29" id="ios-ui"><code>iOS</code> <code>UI</code></h2><p data-anchor-id="v2eh"><div class="toc"><div class="toc">
<ul>
<li><a href="#课程10uitabbarcontroller">课程10.UITabBarController</a><ul>
<li><a href="#ios-ui">iOS UI</a></li>
<li><a href="#一学习目标">一、学习目标</a></li>
<li><a href="#二课程内容">二、课程内容</a><ul>
<li><a href="#1uitabbarcontroller介绍">1.UITabBarController介绍</a></li>
<li><a href="#2uitabbarcontroller使用">2.UITabBarController使用</a></li>
<li><a href="#2uitabbaritem使用">2.UITabBarItem使用</a></li>
</ul>
</li>
<li><a href="#三课程作业">三、课程作业</a></li>
</ul>
</li>
</ul>
</div>
</div>
</p><hr><div class="md-section-divider"></div><h2 data-anchor-id="gr71" id="一学习目标"><strong>一、学习目标</strong></h2><ul data-anchor-id="63u7">
<li>UITabBarController使用 </li>
<li>UITabBarItem使用</li>
</ul><hr><div class="md-section-divider"></div><h2 data-anchor-id="jmye" id="二课程内容"><strong>二、课程内容</strong></h2><div class="md-section-divider"></div><h3 data-anchor-id="zoxa" id="1uitabbarcontroller介绍"><strong>1.UITabBarController介绍</strong></h3><p data-anchor-id="z7g5">UITabBarController和UINavigationController一样是个容器类的UIViewController，常常用它和UINavigation结合作为项目的基本框架，管理控制器之间的切换。比如我们常用的微信 <br>
<img src="http://static.zybuluo.com/zhuoming/tgdjmr6c91grbj0y58cqtwin/xib14.jpg" alt="xib14.jpg-18.2kB" title=""></p><p data-anchor-id="z2f5">UITabBarController主要用来管理你提供的content view controllers,而每一个 content view controller则负责管理自己的view层级关系，通常，当你的程序想要提供一些平行（同一个等级的）的不同界面，而恰好这些界面使用到的数据是一类的，或者功能是一个系列的，那 tab bar interface 是非常有用的.     在这样的 tab bar interface界面中，你可以设置许多的 tab ，每一个 tab则一定要指定一个content view controller,当某个tab被点击时，UITabBarController就会选中该tab并且显示该viewController所持有的content view <br>
来看官网的两张示例图：</p><p data-anchor-id="9z2v"><img src="http://static.zybuluo.com/zhuoming/wpdfr04oqhdkq10yvlbsuw1w/tabbar_controllerviews.jpg" alt="tabbar_controllerviews.jpg-111.9kB" title=""></p><p data-anchor-id="hb1n"><img src="http://static.zybuluo.com/zhuoming/dymt9pxks0tcdndabxwo1h6u/08231954_i9Wk.jpg" alt="08231954_i9Wk.jpg-35.6kB" title=""></p><div class="md-section-divider"></div><h3 data-anchor-id="reos" id="2uitabbarcontroller使用"><strong>2.UITabBarController使用</strong></h3><p data-anchor-id="l4b8">通过storyboard，我们用一个UITabBarController控制三个视图控制器，如下图所示 <br>
<img src="http://static.zybuluo.com/zhuoming/cfzwuzlzdz32977dodrghh59/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-31%20%E4%B8%8B%E5%8D%884.48.59.png" alt="屏幕快照 2016-01-31 下午4.48.59.png-221.5kB" title=""> <br>
其运行效果如下 <br>
<img src="http://static.zybuluo.com/zhuoming/ek0iuwm88r3p2symcq2wmava/xib8.gif" alt="xib8.gif-144.3kB" title=""></p><p data-anchor-id="bq1y">用代码实现以上效果</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="parh"><ol class="linenums"><li class="L0"><code><span class="pun">-</span><span class="pln"> </span><span class="pun">(</span><span class="pln">BOOL</span><span class="pun">)</span><span class="pln">application</span><span class="pun">:(</span><span class="typ">UIApplication</span><span class="pln"> </span><span class="pun">*)</span><span class="pln">application didFinishLaunchingWithOptions</span><span class="pun">:(</span><span class="typ">NSDictionary</span><span class="pln"> </span><span class="pun">*)</span><span class="pln">launchOptions </span><span class="pun">{</span></code></li><li class="L1"><code><span class="pln">    </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">window </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[[</span><span class="typ">UIWindow</span><span class="pln"> alloc</span><span class="pun">]</span><span class="pln"> initWithFrame</span><span class="pun">:[[</span><span class="typ">UIScreen</span><span class="pln"> mainScreen</span><span class="pun">]</span><span class="pln"> bounds</span><span class="pun">]];</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">window</span><span class="pun">.</span><span class="pln">backgroundColor </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="typ">UIColor</span><span class="pln"> whiteColor</span><span class="pun">];</span></code></li><li class="L3"><code><span class="pln">    </span><span class="com">//1.初始化一个UITabBarController控制器</span></code></li><li class="L4"><code><span class="pln">    </span><span class="typ">UITabBarController</span><span class="pln"> </span><span class="pun">*</span><span class="pln">tabbarVC</span><span class="pun">=[[</span><span class="typ">UITabBarController</span><span class="pln"> alloc</span><span class="pun">]</span><span class="pln">init</span><span class="pun">];</span></code></li><li class="L5"><code><span class="pln">    </span><span class="com">//设置控制器为Window的根控制器</span></code></li><li class="L6"><code><span class="pln">    </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">window</span><span class="pun">.</span><span class="pln">rootViewController</span><span class="pun">=</span><span class="pln"> tabbarVC</span><span class="pun">;</span></code></li><li class="L7"><code><span class="pln">    </span><span class="com">//2.创建子控制器</span></code></li><li class="L8"><code><span class="pln">    </span><span class="typ">UIViewController</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> VC1</span><span class="pun">=[[</span><span class="typ">UIViewController</span><span class="pln"> alloc</span><span class="pun">]</span><span class="pln">init</span><span class="pun">];</span></code></li><li class="L9"><code><span class="pln">    VC1</span><span class="pun">.</span><span class="pln">view</span><span class="pun">.</span><span class="pln">backgroundColor</span><span class="pun">=[</span><span class="typ">UIColor</span><span class="pln"> redColor</span><span class="pun">];</span></code></li><li class="L0"><code><span class="pln">    </span><span class="com">// 系统样式的Item</span></code></li><li class="L1"><code><span class="pln">    VC1</span><span class="pun">.</span><span class="pln">tabBarItem </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[[</span><span class="typ">UITabBarItem</span><span class="pln"> alloc</span><span class="pun">]</span><span class="pln">initWithTabBarSystemItem</span><span class="pun">:</span><span class="typ">UITabBarSystemItemFavorites</span><span class="pln"> tag</span><span class="pun">:</span><span class="lit">0</span><span class="pun">];</span></code></li><li class="L2"><code></code></li><li class="L3"><code><span class="pln">    </span><span class="typ">UIViewController</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> VC2 </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="typ">UIViewController</span><span class="pln"> </span><span class="kwd">new</span><span class="pun">];</span></code></li><li class="L4"><code><span class="pln">    VC2</span><span class="pun">.</span><span class="pln">view</span><span class="pun">.</span><span class="pln">backgroundColor </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="typ">UIColor</span><span class="pln"> blueColor</span><span class="pun">];</span></code></li><li class="L5"><code><span class="pln">    </span><span class="com">// 通过图片创建tabBarItem</span></code></li><li class="L6"><code><span class="pln">    VC2</span><span class="pun">.</span><span class="pln">tabBarItem </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[[</span><span class="typ">UITabBarItem</span><span class="pln"> alloc</span><span class="pun">]</span><span class="pln">initWithTitle</span><span class="pun">:@</span><span class="str">"VC2"</span><span class="pln"> image</span><span class="pun">:[</span><span class="typ">UIImage</span><span class="pln"> imageNamed</span><span class="pun">:@</span><span class="str">"tab1.png"</span><span class="pun">]</span><span class="pln"> tag</span><span class="pun">:</span><span class="lit">0</span><span class="pun">];</span></code></li><li class="L7"><code></code></li><li class="L8"><code><span class="pln">    </span><span class="typ">UIViewController</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> VC3 </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="typ">UIViewController</span><span class="pln"> </span><span class="kwd">new</span><span class="pun">];</span></code></li><li class="L9"><code><span class="pln">    VC3</span><span class="pun">.</span><span class="pln">view</span><span class="pun">.</span><span class="pln">backgroundColor </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="typ">UIColor</span><span class="pln"> yellowColor</span><span class="pun">];</span></code></li><li class="L0"><code><span class="pln">    </span><span class="com">// 通过两个图片创建tabBarItem,</span></code></li><li class="L1"><code><span class="pln">    VC3</span><span class="pun">.</span><span class="pln">tabBarItem </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[[</span><span class="typ">UITabBarItem</span><span class="pln"> alloc</span><span class="pun">]</span><span class="pln">initWithTitle</span><span class="pun">:@</span><span class="str">"VC3"</span><span class="pln"> image</span><span class="pun">:[</span><span class="typ">UIImage</span><span class="pln"> imageNamed</span><span class="pun">:@</span><span class="str">"tab1.png"</span><span class="pun">]</span><span class="pln"> selectedImage</span><span class="pun">:[</span><span class="typ">UIImage</span><span class="pln"> imageNamed</span><span class="pun">:@</span><span class="str">"tab1_select"</span><span class="pun">]];</span></code></li><li class="L2"><code><span class="pln">    </span><span class="com">// 给UITabBarController 给这个是有序的</span></code></li><li class="L3"><code><span class="pln">    tabbarVC</span><span class="pun">.</span><span class="pln">viewControllers </span><span class="pun">=</span><span class="pln"> </span><span class="pun">@[</span><span class="pln">VC1</span><span class="pun">,</span><span class="pln">VC2</span><span class="pun">,</span><span class="pln">VC3</span><span class="pun">];</span></code></li><li class="L4"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln"> YES</span><span class="pun">;</span></code></li><li class="L5"><code><span class="pun">}</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="sfap" id="2uitabbaritem使用"><strong>2.UITabBarItem使用</strong></h3><p data-anchor-id="blyg">UITabBarItem除了可以设置图片外还有一些常用的属性： <br>
<strong>改变UITabBarItem 字体颜色</strong> <br>
在 appDelegate的<code>didFinishLaunchingWithOptions</code>中</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="mbvh"><ol class="linenums"><li class="L0"><code><span class="pun">[[</span><span class="typ">UITabBarItem</span><span class="pln"> appearance</span><span class="pun">]</span><span class="pln"> setTitleTextAttributes</span><span class="pun">:[</span><span class="typ">NSDictionary</span><span class="pln"> dictionaryWithObjectsAndKeys</span><span class="pun">:[</span><span class="typ">UIColor</span><span class="pln"> blackColor</span><span class="pun">],</span><span class="pln"> </span><span class="typ">NSForegroundColorAttributeName</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="typ">UIFont</span><span class="pln"> fontWithName</span><span class="pun">:@</span><span class="str">"Helvetica"</span><span class="pln"> size</span><span class="pun">:</span><span class="lit">12.0f</span><span class="pun">],</span><span class="typ">NSFontAttributeName</span><span class="pun">,</span><span class="kwd">nil</span><span class="pun">]</span><span class="pln"> forState</span><span class="pun">:</span><span class="typ">UIControlStateNormal</span><span class="pun">];</span></code></li></ol></pre><p data-anchor-id="lbn5"><strong>改变UITabBarItem的选中和非选中图片</strong> <br>
这种方式可以完全显示图片，不会有填充色。</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="pg8g"><ol class="linenums"><li class="L0"><code></code></li><li class="L1"><code><span class="pln">vc1</span><span class="pun">.</span><span class="pln">tabBarItem</span><span class="pun">.</span><span class="pln">image </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="typ">ImageNamed</span><span class="pun">(@</span><span class="str">"tabicon1_unselect"</span><span class="pun">)</span><span class="pln"> imageWithRenderingMode</span><span class="pun">:</span><span class="typ">UIImageRenderingModeAlwaysOriginal</span><span class="pun">];</span></code></li><li class="L2"><code><span class="pln">vc1</span><span class="pun">.</span><span class="pln">tabBarItem</span><span class="pun">.</span><span class="pln">selectedImage </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="typ">ImageNamed</span><span class="pun">(@</span><span class="str">"tabicon1_select"</span><span class="pun">)</span><span class="pln"> imageWithRenderingMode</span><span class="pun">:</span><span class="typ">UIImageRenderingModeAlwaysOriginal</span><span class="pun">];</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="xtya" id="三课程作业"><strong>三、课程作业</strong></h2><blockquote data-anchor-id="uojv" class="white-blockquote">
  <ul>
  <li>创建一个UITabBarController上面带4个VC。</li>
  <li>用不同的方式创建每个VC对应的UITabBarItem。</li>
  <li>探索在UITabBarController管理下的VC的生命周期。</li>
  <li>在第一个VC如何给第二个VC传值。</li>
  </ul>
</blockquote></div>
</body>
</html>